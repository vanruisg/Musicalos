{% extends "layout.html" %}

{% block styles %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css" />
{% endblock %}

{% block title %}Home{% endblock %}

{% block content %}
    <div class="container">
        <div class="jumbotron img-background" style="background-image:url(https://www.udiscovermusic.com/wp-content/uploads/2019/04/best-jazz-songs.jpg); background-size:cover">
            <h2 class="display-4" id="band" style="color:gold; font-weight:bold; text-shadow: -1px 0 black, 0 2px black, 2px 0 black, 0 -1px black">Buy Tickets to Concerts in New Orleans</h2>
            <h3 class="lead" style="color:gold; font-weight:bold; text-shadow: -1px 0 black, 0 2px black, 2px 0 black, 0 -1px black">Simply pick a date to find out what concerts are happening in the city</h3>
        </div>
        <div class="container">
            <div class="row">
                <br />
                <h3>Select a Date</h3>
                <!-- Form code begins -->
                <form id="" action="" method="post">
                    <div class="form-group" style="max-width:20%">
                        <!-- Date input -->
                        <input class="form-control" id="date" name="date" placeholder="YYYY/MM/DD" type="text" required />
                    </div>
                    <div class="form-group">
                        <!-- Submit button -->
                        <input type="submit" class="btn btn-success" />
                    </div>
                </form>
                <!-- Form code ends -->
                <table class="table" style="width:70%">
                    <thead>
                        <tr>
                            <th scope="col">Concert Name</th>
                            <th scope="col">Time</th>
                            <th scope="col">Cost</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in rows %}
                        <tr>
                            <td>{{row[0]}}</td>
                            <td>{{row[1]}}</td>
                            <td>{{row[2]}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
    <script>
        $(document).ready(function () {
            var date_input = $('input[name="date"]'); //our date input has the name "date"
            var container = $('.bootstrap-iso form').length > 0 ? $('.bootstrap-iso form').parent() : "body";
            var options = {
                format: 'yyyy/mm/dd',
                container: container,
                todayHighlight: true,
                autoclose: true,
            };
            date_input.datepicker(options);
        })
    </script>
{% endblock %}